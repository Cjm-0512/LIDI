<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>补光灯</title>
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/iconfont.css">
    <link rel="stylesheet" href="../css/LED.css">
</head>
<body>
<div class="box">
    <div class="header">
        <div class="left"></div>

        <div class="right">
            <div class="icon">
                <a href="./warning.html" class="warn"></a>
                <a href="./help.html" class="help"></a>
                <a href="./inregardto.html" class="about"></a>
            </div>
            <div class="settings">

                <a href="#" class="user"></a>

                <p class="username">Admin</p>

                <a href="#" class="down"></a>
                <div class="popUpBox">
                    <a href="./resetpasswords.html" class="reset">
                        <img src="../images/reset.png" alt="">
                        <p class="replacement">重置密码</p>
                    </a>
                    <a href="./login.html" class="close">
                        <img src="../images/close.png" alt="">
                        <p class="out">退出登录</p>
                    </a>
                    <div class="triangle"></div>
                </div>
            </div>
        </div>
    </div>

    <!--版心-->
    <div class="center">
        <!--导航-->
        <ul class="nav">
            <li>
                <a href="./login.html">
                    <p class="iconfont">&#xe628</p>
                    <span>首页</span>
                </a>
            </li>
            <li>
                <a href="./network.html">
                    <p class="iconfont">&#xe608</p>
                    <span>网络设置</span>
                </a>
            </li>
            <li>
                <a href="./controller.html">
                    <p class="iconfont">&#xe637</p>
                    <span>控制器</span>
                </a>
            </li>
            <li>
                <a href="./vidicon.html">
                    <p class="iconfont">&#xe60e</p>
                    <span>摄像机</span>
                </a>
            </li>
            <li  class="public">
                <a href="./LED.html">
                    <p class="iconfont">&#xe6ee</p>
                    <span>补光灯</span>
                </a>
            </li>
            <li>
                <a href="./superposition.html">
                    <p class="iconfont">&#xea2d</p>
                    <span>自动重合闸</span>
                </a>
            </li>
            <li>
                <a href="./operationlog.html">
                    <p class="iconfont">&#xe63b</p>
                    <span>操作日志</span>
                </a>
            </li>
        </ul>
        <div class="centerRight">
            <!--版心头部图标-->
            <div class="centerHeader">
                <div class="clientSide">
                    LDSC04客户端系统
                </div>
            </div>
            <!--版心内容区域-->
            <div class="content">
                <header class="title">
                    补光灯
                </header>
                <div class="card">
                    <div class="cardCnt">
                        <h5>补光灯1</h5>
                        <div class="cardBottom">
                            <div class="all">
                                <span class="luminance">亮度</span>
                                <div class="luminanceBox">
                                    <div class="bg">
                                        <div class="bgColor"></div>
                                    </div>
                                    <div class="bt"></div>
                                </div>
                                <div class="luminanceText"></div>
                            </div>
                            <div class="cardOff">
                                <p>电源开关</p>
                                <img src="../images/ON.png" alt="" class="luminanceOff">
                            </div>
                        </div>
                    </div>
                    <div class="cardCnt">
                        <h5>补光灯2</h5>
                        <div class="cardBottom">
                            <div class="all">
                                <span class="luminance">亮度</span>
                                <div class="luminanceBox">
                                    <div class="bg">
                                        <div class="bgColor"></div>
                                    </div>
                                    <div class="bt"></div>
                                </div>
                                <div class="luminanceText"></div>
                            </div>
                            <div class="cardOff">
                                <p>电源开关</p>
                                <img src="../images/ON.png" alt="" class="luminanceOff">
                            </div>
                        </div>
                    </div>
                    <div class="cardCnt">
                        <h5>补光灯3</h5>
                        <div class="cardBottom">
                            <div class="all">
                                <span class="luminance">亮度</span>
                                <div class="luminanceBox">
                                    <div class="bg">
                                        <div class="bgColor"></div>
                                    </div>
                                    <div class="bt"></div>
                                </div>
                                <div class="luminanceText"></div>
                            </div>
                            <div class="cardOff">
                                <p>电源开关</p>
                                <img src="../images/ON.png" alt="" class="luminanceOff">
                            </div>
                        </div>
                    </div>
                    <div class="cardCnt">
                        <h5>补光灯4</h5>
                        <div class="cardBottom">
                            <div class="all">
                                <span class="luminance">亮度</span>
                                <div class="luminanceBox">
                                    <div class="bg">
                                        <div class="bgColor"></div>
                                    </div>
                                    <div class="bt"></div>
                                </div>
                                <div class="luminanceText"></div>
                            </div>
                            <div class="cardOff">
                                <p>电源开关</p>
                                <img src="../images/ON.png" alt="" class="luminanceOff">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="parameter">
                    <header class="title">
                        参数
                    </header>
                    <table cellspacing="0" cellpadding="0" id="show">
                        <tr>
                            <th>补光灯</th>
                            <th>电流</th>
                            <th>功率因素</th>
                            <th>有功功率</th>
                            <th>总电量</th>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <p class="bottomText">软件版权归属权限</p>
</div>
<div class="mark"></div>
</body>
<!--引入JQuery-->
<script src="../js/jquery-3.3.1.js"></script>
<!--引入公共的js-->
<script src="../js/common.js"></script>
<script src="../js/rem.js"></script>

<script>
    //开关
        //获取img路径
    let OFF = '../images/OFF.png';
    let ON = '../images/ON.png';
    //定义一个初始化状态
    let targ = 1;
    //添加点击事件，
    $('.luminanceOff').on('click',function(){
        if(targ === 1){
            $(this).attr("src",OFF);
            targ = 2;
        }else if(targ === 2){
            $(this).attr("src",ON);
            targ = 1
        }

    });


    // 亮度控制
        //获取元素
        var $box = $('.luminanceBox');
        var $bg = $('.bg');
        var $bgcolor = $('.bgColor');
        var $btn = $('.bt');
        var $text = $('.luminanceText');
        var statu = false;
        var ox = 0;
        var lx = 0;
        var left = 16.8;
        var bgleft = 0;
        $btn.css('left',left);
        $bgcolor.width(left);
        $text.html(parseInt(left/1.68) + '%');
        //鼠标按下事件
        $btn.mousedown(function(e){
            lx = $(this).offset().left;
            ox = e.pageX - left;
            statu = true;
        });
        //鼠标抬起事件
        $(document).mouseup(function(){
            statu = false;
        });
        //移动事件
        $box.mousemove(function(e){
            if(statu){
                left = e.pageX - ox;
                if(left < 0){
                    left = 0;
                }
                if(left > 168){
                    left = 168;
                }
                $(this).children(".bt").css('left',left);
                $(this).find('.bgColor').width(left);
                $(this).siblings('.luminanceText').html(parseInt(left/1.68) + '%');
            }
        });
        //点击事件
        $bg.click(function(e){
            if(!statu){
                bgleft = $(this).offset().left;
                left = e.pageX - bgleft;
                if(left < 0){
                    left = 0;
                }
                if(left > 168){
                    left = 168;
                }
                $(this).siblings('.bt').css('left',left);
                $(this).children().stop().animate({width:left},168);
                $(this).parent().siblings('.luminanceText').html(parseInt(left/1.68) + '%');
            }
        });


    //补光灯数据
    $(function() {
        //模拟数据
        const list = [{name: "补光灯1",  electricity: "5.2A", factor: "正常", ups: "正常",total : "正常"},
            {name: "补光灯2",  electricity: "5.2A", factor: "正常", ups: "正常",total : "正常"},
            {name: "补光灯3",  electricity: "5.2A", factor: "正常", ups: "正常",total : "正常"},
            {name: "补光灯4",  electricity: "5.2A", factor: "正常", ups: "正常",total : "正常"}];
        let html = '';
        if (list.length === -1) {
            alert("没有数据")
        }
        for (let i = 0; i < list.length; i++) {//循环json对象，拼接tr,td的html
            html = html + '<tr>' + '<td>' + list[i].name + '</td>' + '<td>' + list[i].electricity + '</td>' + '<td>' + list[i].factor + '</td>' + '<td>' + list[i].ups + '</td>' + '<td>' + list[i].total + '</td>' + '</tr>';
        }
        $('#show').append(html);
    })
</script>
</html>